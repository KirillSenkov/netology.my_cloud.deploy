# My Cloud – Frontend (React + TypeScript + Vite)

## Требования

- `Node.js 18+`
- `yarn или npm`

## Установка и запуск (dev)
`cd FRONT`
`yarn install`
`yarn dev`

## Возможности
- [x] Регистрация и аутентификация пользователей  
- [x] Загрузка файлов 
- [x] Просмотр списка файлов   
- [x] Переименование и редактирование комментариев  
- [x] Скачивание файлов  
- [x] Публичная ссылка (включение/выключение, копирование) 
- [x] Административный интерфейс управления пользователями  
  - [x] Список пользователей (уровень, файлы, объём, путь хранилища)
  - [x] Смена ролей пользователей (с учётом иерархии)
  - [x] Удаление пользователя (опционально с удалением файлов)
  - [x] Переход в хранилище выбранного пользователя (через `?userId=`)
  
## Маршруты (React Router)
- `/` — список файлов (свои файлы)
- `/?userId=<id>` — список файлов пользователя (для админа; права дополнительно проверяются бэком)
- `/admin/users` — админка: список доступных пользователей

## Разработка (dev)
Frontend — Vite (:5173)  
Backend — Django (:8000)

Для работы с CSRF в dev добавлен trusted origin:
- http://localhost:5173
- http://127.0.0.1:5173

Используется Vite proxy:
все запросы с префиксом `/api` перенаправляются на backend.

Аутентификация основана на Django sessions + CSRF cookie.
Axios передаёт cookie с заголовком `X-CSRFToken`.

## План разработки
### Этап 1. Каркас и инфраструктура
- [x] Vite + TypeScript
- [x] Proxy Vite → Django для `/api`
- [x] Axios client (cookies + CSRF)
- [x] Redux Toolkit: auth state
- [x] React Router: базовые маршруты
- [x] ProtectedRoute
- [x] NavBar (зависит от авторизации)

### Этап 2. Аутентификация и регистрация
- [x] Login (POST /api/auth/login/)
- [x] Logout (GET /api/auth/logout/)
- [x] Register (POST /api/auth/register/)
- [x] Валидация регистрации на фронте по ТЗ

### Этап 3. Файловое хранилище
- [x] Список файлов (метаданные, без контента)
- [x] Загрузка файла с комментарием
- [x] Удаление файла
- [x] Переименование файла
- [x] Изменение комментария
- [x] Скачивание файла
- [x] Просмотр файла (если поддерживается браузером) или скачивание
- [x] Публичная ссылка (включение/выключение, копирование)
- [x] Скачивание по публичной ссылке (без авторизации)
- [x] UI списка: действия, tooltips, sticky header, scroll

### Этап 4. Админка
- [x] Список пользователей
- [x] Смена ролей пользователей
- [x] Удаление пользователя
- [x] Переход в хранилище выбранного пользователя (admin)

### Этап 5. UX и финализация
- [x] Глобальная обработка ошибок API (единый формат отображения)
- [ ] README: инструкции деплоя и сборки